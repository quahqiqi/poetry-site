<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>关于作者 - 一个青年的天马行空</title>

  <style>
    /* 主题色与字体 */
    :root {
      --bg: #f5efe4;
      --card: #ffffff;
      --accent: #b89c7a;
      --muted: #6d5a44;
      --max-width: 1100px;
    }
    body {
      margin: 0;
      font-family: 'Noto Serif SC', "思源宋体", serif;
      background: linear-gradient(180deg, var(--bg), #f7f4ee);
      color: #2d2d2d;
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* 主要内容区域 */
    main {
      max-width: var(--max-width);
      margin: 22px auto;
      padding: 0 16px 40px;
      flex: 1;
    }

    /* 作者照片 */
    .author-photo {
      width: 200px;
      height: 200px;
      object-fit: cover;
      display: block;
      margin: 1em auto;
      box-shadow: 0 0 6px rgba(0,0,0,0.1);
      border-radius: 4px;
      cursor: pointer;
    }

    /* 返回首页按钮 */
    .btn {
      display: block;
      max-width: 140px;
      margin: 2em auto 0;
      padding: 10px 14px;
      text-align: center;
      background-color: var(--accent);
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-weight: 600;
      transition: background-color 0.3s ease;
    }
    .btn:hover {
      background-color: #a67d56;
    }

    footer {
      max-width: var(--max-width);
      margin: 0 auto 20px;
      padding: 0 16px;
      color: #6e5b4a;
      font-size: 0.9rem;
      text-align: center;
      border-top: 1px solid rgba(0,0,0,0.05);
    }
  </style>
</head>
<body>

  <!-- 悬浮栏占位（floatbar.html 将被 fetch 并插入到此处） -->
  <div id="floatbar" aria-hidden="true"></div>

  <main>
    <h1>关于作者</h1>
    <p class="subtitle">启宏，其人其诗</p>

    <section class="author">
      <img src="assets/img/author.jpg" alt="作者启宏的照片" class="author-photo" id="authorPhoto" />
      <p>我是启宏，来自马来西亚雪兰莪。</p>
      <p>从小就喜欢思考，也总是对文字怀抱敬意。小时候，在一次偶然的阅读中遇见了新诗，那是我第一次发现，原来文字可以这样自由——不拘格律，却能直达心灵。那一刻起，我便爱上了它。</p>
      <p>中学时期，我开始尝试写诗。新诗对我来说陌生又亲切，它成了我情绪的出口、思想的栖身处。</p>
      <p>我的作品也许还有许多不足，身边鲜有人可请教，于是我用了这样一种笨拙的方式——将诗放在这里，邀请你阅读，欢迎你批评指正。</p>
      <p>你们的每一句意见，都是我诗路上的灯火。<br />在此，深深致谢。</p>
    </section>

    <section class="contact">
      <h2>联系方式</h2>
      <ul>
        <li>
            IG   <a href="https://www.instagram.com/galiambuqq/" target="_blank" rel="noopener"> @galiambuqq </a>
        </li>
        <li>
          📧 邮箱 <a href="mailto:qihongpoet@gmail.com">qihongpoet@gmail.com</a>
        </li>
      </ul>
    </section>

    <a href="index.html" class="btn">返回首页</a>
  </main>

  <footer>
    <nav>
      <a href="index.html">首页</a> |
      <a href="toc.html">目录</a> |
      <a href="about.html">作者简介</a>
    </nav>
  </footer>
  
  
  <script>
    // 点击头像彩蛋（保留你原有逻辑）
    let photoClickCount = 0;
    let resetTimer;

    const photo = document.getElementById("authorPhoto");

    if (photo) {
      photo.addEventListener("click", () => {
        photoClickCount++;
        clearTimeout(resetTimer);
        resetTimer = setTimeout(() => { photoClickCount = 0; }, 3000);

        if (photoClickCount === 10) {
          window.location.href = "easter-egg.html"; // 跳转菜单页
        }
      });
    }

    // ---------- 自动加载 floatbar.html 并初始化 ----------
    // 请确保你的 floatbar.html 文件位于站点根目录（或修改下面路径）
    (function loadAndInitFloatbar(){
      const FLOATBAR_PATH = 'floatbar.html'; // 或 '/floatbar.html' 或 '/assets/floatbar.html'
      fetch(FLOATBAR_PATH)
        .then(resp => {
          if(!resp.ok) throw new Error('无法加载 ' + FLOATBAR_PATH);
          return resp.text();
        })
        .then(html => {
          // 插入到占位容器（若不存在则创建并插入 body）
          let container = document.getElementById('floatbar');
          if(!container){
            container = document.createElement('div');
            container.id = 'floatbar';
            document.body.appendChild(container);
          }
          container.innerHTML = html;
          // 初始化交互（打开/收起/快捷键/搜索提交等）
          initFloatbar();
        })
        .catch(err => {
          console.warn('floatbar 加载失败：', err);
        });

      // 初始化函数：绑定交互事件到刚插入的元素
      function initFloatbar(){
        try {
          const closed = document.getElementById('fb-closed');
          const bar = document.getElementById('fb-bar');
          const minBtn = document.getElementById('fb-min');
          const form = document.getElementById('fb-search-form');
          const input = document.getElementById('fb-search-input');

          if(!closed || !bar || !minBtn || !form || !input) {
            // 结构不完整时不再继续绑定，避免报错
            return;
          }

          function openBar(){
            closed.setAttribute('hidden','');
            bar.removeAttribute('hidden');
            bar.style.transform = 'translateY(6px) scale(.98)';
            bar.style.opacity = '0';
            requestAnimationFrame(()=>{
              bar.style.transition = 'transform .22s cubic-bezier(.2,.9,.2,1), opacity .18s';
              bar.style.transform = 'translateY(0) scale(1)';
              bar.style.opacity = '1';
            });
            setTimeout(()=> input.focus(), 260);
          }

          function closeBar(){
            bar.style.transform = 'translateY(6px) scale(.98)';
            bar.style.opacity = '0';
            setTimeout(()=>{
              bar.setAttribute('hidden','');
              closed.removeAttribute('hidden');
            }, 220);
          }

          closed.addEventListener('click', openBar);
          minBtn.addEventListener('click', closeBar);

          document.addEventListener('keydown', (e)=>{
            if(e.key === 'Escape'){
              if(!bar.hasAttribute('hidden')) closeBar();
            }
            if((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'k'){
              e.preventDefault();
              if(bar.hasAttribute('hidden')) openBar();
              else closeBar();
            }
          });

          form.addEventListener('submit', function(e){
            e.preventDefault();
            const q = (input.value || '').trim();
            if(!q){ input.focus(); return; }
            const safe = encodeURIComponent(q);
            // 修改为你的站内搜索路径（/search.html?q=）
            window.location.href = '/search.html?q=' + safe;
          });
        } catch(err){
          console.warn('initFloatbar 出错：', err);
        }
      }
    })();
  </script>

</body>
</html>
